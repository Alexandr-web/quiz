(function(t){function o(o){for(var s,n,c=o[0],l=o[1],a=o[2],v=0,d=[];v<c.length;v++)n=c[v],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(o);while(d.length)d.shift()();return i.push.apply(i,a||[]),e()}function e(){for(var t,o=0;o<i.length;o++){for(var e=i[o],s=!0,c=1;c<e.length;c++){var l=e[c];0!==r[l]&&(s=!1)}s&&(i.splice(o--,1),t=n(n.s=e[0]))}return t}var s={},r={app:0},i=[];function n(o){if(s[o])return s[o].exports;var e=s[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,o,e){n.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,o){if(1&o&&(t=n(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var s in t)n.d(e,s,function(o){return t[o]}.bind(null,s));return e},n.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(o,"a",o),o},n.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=o,c=c.slice();for(var a=0;a<c.length;a++)o(c[a]);var u=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"56d7":function(t,o,e){"use strict";e.r(o);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"app"}},[e("vHome")],1)},i=[],n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"v-home"},[e("div",{staticClass:"container"},[e("div",{staticClass:"v-home__block"},[e("vForm")],1),e("vQuizList")],1)])},c=[],l=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("ul",{staticClass:"v-quiz-list"},t._l(t.getQuizs,(function(o,s){return e("vQuiz",{key:s,attrs:{quiz:o},on:{vote:t.vote,removeQuiz:t.removeQuiz}})})),1)},a=[],u=(e("d81d"),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("li",{staticClass:"v-quiz",style:"background-color: "+t.quiz.bgColor+";"},[e("div",{staticClass:"v-quiz__block v-quiz__block-top"},[e("h3",{staticClass:"v-quiz__heading",style:"color: "+t.quiz.colorHeading+";"},[t._v(t._s(t.quiz.title))]),e("button",{staticClass:"v-quiz__remove",on:{click:function(o){return t.$emit("removeQuiz",t.quiz)}}})]),e("div",{staticClass:"v-quiz__block v-quiz__block-bottom"},[e("ul",{staticClass:"v-quiz__responses"},t._l(t.quiz.responses,(function(o,s){return e("li",{key:s,staticClass:"v-quiz__response"},[e("h3",{staticClass:"v-quiz__response-title"},[t._v(t._s(o.value)+" "),o.count>0&&t.quiz.showVotesAtResponse?e("strong",[t._v("("+t._s(o.count)+")")]):t._e()]),e("div",{staticClass:"v-quiz__response-line",on:{click:function(e){return t.$emit("vote",o,t.quiz)}}},[e("div",{staticClass:"v-quiz__response-line-count",style:"color: "+t.quiz.colorProcent+";"},[t._v(t._s(o.procent))]),e("div",{staticClass:"v-quiz__response-line-item",style:"width: "+o.procent+"; background-color: "+t.quiz.colorLine+";"})])])})),0)]),t.quiz.showTotalVotes?e("div",{staticClass:"v-quiz__block"},[e("span",[t._v("Всего проголосовало: "),e("strong",[t._v(t._s(t.quiz.total))]),t._v(" человек")])]):t._e()])}),v=[],d={props:{quiz:{type:Object}}},f=d,_=e("2877"),p=Object(_["a"])(f,u,v,!1,null,null,null),m=p.exports,h={components:{vQuiz:m},computed:{getQuizs:function(){return this.$store.getters.getQuizs}},methods:{vote:function(t,o){this.$store.state.quizs.map((function(e){e.id===o.id&&(e.total++,t.count++,e.responses.map((function(t){t.procent="".concat(Math.round(t.count/e.total*100),"%")})))})),localStorage.setItem("quizs",JSON.stringify(this.$store.state.quizs))},removeQuiz:function(t){this.$store.dispatch("removeQuiz",t)}}},g=h,z=Object(_["a"])(g,l,a,!1,null,null,null),b=z.exports,q=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("form",{staticClass:"v-form",on:{submit:function(o){return o.preventDefault(),t.createQuiz(o)}}},[e("div",{staticClass:"v-form__block"},[e("span",{staticClass:"v-form__settings",on:{click:function(o){t.show=!0}}},[t._v("Настройки")])]),e("div",{staticClass:"v-form__block"},[e("label",{staticClass:"v-form__heading",attrs:{for:"title"}},[t._v("Заголовок опроса")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"v-form__data v-form__title",attrs:{type:"text",placeholder:"Заголовок опроса",id:"title"},domProps:{value:t.title},on:{input:function(o){o.target.composing||(t.title=o.target.value)}}})]),e("div",{staticClass:"v-form__block"},[e("label",{staticClass:"v-form__heading",attrs:{for:"response"}},[t._v("Варианты ответа")]),t._l(t.responses,(function(t,o){return e("input",{key:o,staticClass:"v-form__data v-form__response",attrs:{placeholder:"Ответ "+(o+1),id:"response",type:"text"}})})),e("button",{staticClass:"v-form__btn",attrs:{type:"button"},on:{click:t.addRes}},[t._v("Добавить ответ")])],2),e("input",{staticClass:"v-form__btn v-form__submit",attrs:{type:"submit",value:"Создать опрос"}}),e("div",{staticClass:"v-form__settings-quiz",class:{show:t.show}},[e("form",{staticClass:"v-form__settings-quiz-form",on:{submit:function(o){return o.preventDefault(),t.selectQuizTheme(o)}}},[e("div",{staticClass:"v-form__block"},[e("div",{staticClass:"v-form__heading"},[t._v("Цветная тема для опроса")]),e("ul",{staticClass:"v-form__colors"},t._l(t.bgQuiz,(function(t,o){return e("li",{key:o,staticClass:"v-form__block-item"},[e("label",{attrs:{for:"bg-quiz-"+o}},[e("input",{staticClass:"v-form__block-item-radio",attrs:{type:"radio",name:"bg-quiz","data-color-procent":t.colorProcent,"data-color-line":t.colorLine,"data-color":t.color,"data-color-heading":t.colorHeading,id:"bg-quiz-"+o},domProps:{checked:t.checked}}),e("span",{staticClass:"v-form__block-item-radio-style"}),e("div",{staticClass:"v-form__block-item-color",style:"background-color: "+t.color+";"})])])})),0)]),e("div",{staticClass:"v-form__block"},[e("div",{staticClass:"v-form__heading"},[t._v("Дополнительные настройки")]),e("ul",{staticClass:"v-form__list-settings"},t._l(t.settings,(function(o,s){return e("li",{key:s,staticClass:"v-form__settings-option"},[e("label",{attrs:{for:"option-"+s}},[e("input",{staticClass:"v-form__checkbox",attrs:{type:"checkbox","data-settings":o.option,id:"option-"+s},domProps:{checked:o.checked}}),e("h4",[t._v(t._s(o.title))])])])})),0)]),e("input",{staticClass:"v-form__btn",attrs:{type:"submit",value:"Сохранить"}})])])])},C=[],k=(e("4160"),e("159b"),{data:function(){return{title:"",responses:[0,0],show:!1,bgQuiz:[{color:"#fff",colorHeading:"#626886",colorLine:"#D9E0EA",colorProcent:"#7890AE",checked:!0},{color:"#E16158",colorHeading:"#000",colorLine:"#E1C2BF",colorProcent:"#000"},{color:"#35C4E1",colorHeading:"#000",colorLine:"#9BD5E1",colorProcent:"#000"},{color:"#35E185",colorHeading:"#000",colorLine:"#B0E1C7",colorProcent:"#000"},{color:"#71BC78",colorHeading:"#000",colorLine:"#AFE3B5",colorProcent:"#000"},{color:"#FF5432",colorHeading:"#000",colorLine:"#FFA08D",colorProcent:"#000"},{color:"#FFC432",colorHeading:"#000",colorLine:"#FFE298",colorProcent:"#000"},{color:"#FDA0FF",colorHeading:"#000",colorLine:"#FED6FF",colorProcent:"#000"},{color:"#008080",colorHeading:"#000",colorLine:"#009B9B",colorProcent:"#000"}],settings:[{title:"Показать голоса у ответов",checked:!0,option:"showVotesAtResponse"},{title:"Показать сколько всего проголосовало",checked:!0,option:"showTotalVotes"}]}},methods:{createQuiz:function(){var t=document.querySelectorAll(".v-form__response"),o=document.querySelectorAll(".v-form__block-item-radio"),e=document.querySelectorAll(".v-form__checkbox[data-settings]"),s={title:this.title,total:0,responses:[],id:Math.floor(Date.now()),bgColor:o[0].dataset.color,colorHeading:o[0].dataset.colorHeading,colorLine:o[0].dataset.colorLine,colorProcent:o[0].dataset.colorProcent,showTotalVotes:!0,showVotesAtResponse:!0};t.forEach((function(t){var o={value:t.value,count:0,procent:"0%"};s.responses.push(o)})),o.forEach((function(t){t.checked&&(s.bgColor=t.dataset.color,s.colorHeading=t.dataset.colorHeading,s.colorLine=t.dataset.colorLine,s.colorProcent=t.dataset.colorProcent)})),e.forEach((function(t){var o=t.dataset.settings;for(var e in s)e===o&&(s[e]=!!t.checked)})),this.$store.dispatch("addQuiz",s),t.forEach((function(t){return t.value=""})),e.forEach((function(t){return t.checked=!0})),this.title="",this.responses=[0,0],o[0].checked=!0},selectQuizTheme:function(){this.show=!1},addRes:function(){this.responses.push(0)}}}),y=k,w=Object(_["a"])(y,q,C,!1,null,null,null),Q=w.exports,P={components:{vQuizList:b,vForm:Q}},E=P,O=Object(_["a"])(E,n,c,!1,null,null,null),F=O.exports,S={name:"App",components:{vHome:F}},x=S,H=Object(_["a"])(x,r,i,!1,null,null,null),L=H.exports,j=(e("4de4"),e("2f62"));s["a"].use(j["a"]);var $=new j["a"].Store({state:{quizs:[]},getters:{getQuizs:function(t){return localStorage.getItem("quizs")&&(t.quizs=JSON.parse(localStorage.getItem("quizs"))),t.quizs}},actions:{addQuiz:function(t,o){var e=t.commit;e("addQuiz",o)},removeQuiz:function(t,o){var e=t.commit;e("removeQuiz",o)}},mutations:{addQuiz:function(t,o){t.quizs.push(o),localStorage.setItem("quizs",JSON.stringify(t.quizs))},removeQuiz:function(t,o){t.quizs=t.quizs.filter((function(t){return t.id!==o.id})),localStorage.setItem("quizs",JSON.stringify(t.quizs))}}});s["a"].config.productionTip=!1,new s["a"]({store:$,render:function(t){return t(L)}}).$mount("#app")}});
//# sourceMappingURL=app.92cb0a08.js.map